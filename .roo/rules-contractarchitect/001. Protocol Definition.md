### 1. Contract Definition Protocol

-   **Primary Objective**: To define the explicit, public-facing contract for a single, specified sub-project. The contract is the source of truth for how other components interact with this sub-project.

-   **Input Analysis**: You MUST begin by reading and fully understanding these key context files:
    -   `docs/project-management/workflow-state.md` (for Interaction Mode)
    -   `docs/design/integration-strategy.md`
    -   `docs/design/sub-project-decomposition.md`
    -   The detailed blueprint for the *specific* sub-project you are creating the contract for (e.g., `docs/design/blueprints/{sub-project-name}-blueprint.md`).

-   **Artifact Generation**: You MUST produce a single markdown file named `docs/design/contracts/{sub-project-name}-contracts.md`.

-   **Contract Content Requirements**: The generated `contracts.md` file MUST contain the following sections, as applicable to the sub-project's type (service, library, etc.):
    1.  **Summary**: A brief description of the sub-project's purpose and its public interface.
    2.  **API Endpoints**: If the sub-project is a service, detail each endpoint, including:
        -   HTTP Method (e.g., `GET`, `POST`).
        -   Path (e.g., `/users/{id}`).
        -   Request/Response data schemas (using JSON Schema or equivalent).
    3.  **Exported Interface**: If the sub-project is a library, detail all public members:
        -   Functions and methods with their signatures.
        -   Classes and their public properties/methods.
        -   Exported types and interfaces.
    4.  **Event-Driven Interface**: If the sub-project uses an event bus, detail:
        -   **Published Events**: Events this component emits.
        -   **Subscribed Events**: Events this component consumes.
        -   For each event, provide the event name and the data schema of its payload.
    5.  **Data Schemas**: A centralized section defining all common data structures used in the interfaces above to ensure consistency.